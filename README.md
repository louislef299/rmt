# rmt

`rmt` is a small command-line utility written in [Zig][] for identifying and
optionally deleting backup files generally generated by different terminal text
editors. This project uses [SLRE][], a minimal regex engine written in C,
accessed leveraging [Zig FFI][].

## Build from Source

[Download zig][] and try it out! If you don't have the time or can't get it working, you can also download the tool from [releases][].

```bash
# Clean zig cache first
$ rm -rf .zig-cache
$ zig build --summary all && ./zig-out/bin/rmt --help
Usage: rmt [options]

General Options:

  -h, --help          Print command-specific usage
  -i, --interactive   Interactive output
  -r, --recursive     Walk filepath starting at current directory
  --version           Print version & build information
```

## Example Usage

I've had experience with [Emacs backup files][] as well as [Neovim's][]. It's
pretty rare that I actually use the backup file, but when I do need it, I'm
grateful I have the feature enabled. This feature generates quite a bit of
unnecessary deleting when you want to cleanup filesystems. The easiest way to
fix the problem is to place an `alias` in your shell's startup script with
`alias rmt='rm *~'`, but what fun is that?

So, let's say you have the following backup files:

```bash
$ tree | grep '~'
│   └── test3~
├── test1~
├── test2~
```

Let's run `rmt` in recursive & interactive mode for this demo:

```bash
$ rmt -i -r
delete file test1~? y
deleting file test1~
delete file test2~? y
deleting file test2~
delete file src/test3~? y
deleting file src/test3~
```

and voilà! All of your backups are cleaned up! The same outcome could be
achieved with `rmt -r` and the files will be printed out to the screen that are
removed.

[Download zig]: https://ziglang.org/download/
[Emacs backup files]: https://emacsdocs.org/docs/emacs/Backup
[Neovim's]: https://the-pi-guy.com/blog/neovims_backup_and_recovery_features/
[releases]: https://github.com/louislef299/rmt/releases
[SLRE]: https://github.com/cesanta/slre
[Zig]: https://ziglang.org/
[Zig FFI]: https://zig.guide/working-with-c/abi
